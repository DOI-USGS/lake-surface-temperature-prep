target_default: 2_crosswalk_munge


packages:
  - dplyr
  - scipiper

sources:
  - 2_crosswalk_munge/src/spatial_crosswalks.R

targets:
  2_crosswalk_munge:
    depends:
      - 2_crosswalk_munge/out/wqptemp_nhdhr_xwalk.rds.ind
      - 2_crosswalk_munge/out/centroid_lakes_sf.rds.ind

  2_crosswalk_munge/out/wqptemp_nhdhr_xwalk.rds.ind:
    command: crosswalk_points_in_poly(target_name,
      poly_ind_file = '1_crosswalk_fetch/out/canonical_lakes_sf.rds.ind',
      points_ind_file = '1_crosswalk_fetch/out/wqp_lake_temperature_sites_sf.rds.ind',
      points_ID_name = I("MonitoringLocationIdentifier"))


  2_crosswalk_munge/out/centroid_lakes_sf.rds.ind:
    command: centroid_sf_lakes(
      out_ind = target_name,
      lake_ind = "1_crosswalk_fetch/out/canonical_lakes_sf.rds.ind")
